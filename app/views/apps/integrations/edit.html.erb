<%= turbo_frame_tag 'modal' do %>

	<%= form_for @integration, 
		url: app_integration_path(@app.key, @integration),
		method: :patch do |f| %>
		<% #= f.object.to_json %>

		<% f.object.app_package.definitions.each do |d| %>
			<%= case d["type"]
					when "textarea" then f.text_area d["name"].to_sym, label: d["label"], hint: d["hint"]
					when "text", "string" then f.text_field d["name"].to_sym, label: d["label"], hint: d["hint"]
					else
						"--"
					end
			%>
		<% end %>

		<p class="text-sm"><%= t("settings.integrations.hints.hook_url") %></p>
		<div class="text-sm text-yellow-600 overflow-auto py-2 px-2 bg-yellow-100 rounded-sm border border-yellow-200 my-2">
			<%= @integration.hook_url %>
		</div>

		<%= f.submit(t("common.save"), class: "btn btn-success sm")%>
	<% end %>
<% end %>